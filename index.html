<!DOCTYPE html>
<html ng-app="WebSlicer">
<head lang="en">
    <meta charset="UTF-8">
    <title>Web Slicer</title>

    <link rel="icon" type="image/png" href="img/logo22-plain.png"/>

    <!--libraries-->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>


    <!--css-->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-cosmo.css">
    <!--<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">-->
    <link rel="stylesheet" href="css/custom.css"/>

    <!-- MAIN CONTROLLER AND CONFIG -->
    <script src="app.js"></script>

    <!--SETTINGS-->
    <script src="model/profile/settingsController.js"></script>
    <script src="model/profile/settingsTabDirective.js"></script>
    <script src="model/profile/settingsBuilderService.js"></script>

    <!--OCTOPRINT-->
    <script src="model/octoprint/octoprintService.js"></script>
    <script src="model/octoprint/octoprintDirective.js"></script>
    <script src="model/octoprint/octoprintController.js"></script>

    <!--CRAP THAT NEEDS TO GO-->
    <script src="deprecated.js"></script>

</head>
<body>

<div class="container" ng-controller="Deprecated">
    <div class="row">
        <div class="col-lg-6 col-lg-offset-3">
            <h1 class="title"><img src="img/logo22.svg" width="150px">{{title}}</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 col-lg-offset-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4>Login</h4>
                </div>
                <div class="panel-body">
                    <form>
                        <div class="form-group">
                            <label for="clientId">Client ID</label>
                            <input class="form-control" type="text" id="clientId" ng-model="clientId">
                            <button class="btn btn-warning" ng-click="generateClientId()">generate new id</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row">

        <!--CONTROLS-->
        <div class="col-lg-6">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h4>Slicer Controls</h4>
                </div>
                <div class="panel-body">
                    <ul class="nav nav-pills nav-stacked">

                        <!--file chooser-->
                        <li role="presentation">
                            <span class="btn btn-default btn-file">
                                Browse Files<input class="btn btn-file" type="file" file-model="myFile"/>
                            </span>
                        </li>
                        <li role="presentation">
                            <button class="btn btn-default" ng-click="uploadFile()">Upload Model</button>
                        </li>

                        <!--current file list-->
                        <li role="presentation">
                            <ul class="list-group">
                                <p> Current working model ID: {{modelFileId}}</p>
                                <li class="list-group-item" ng-click="changeWorkingFile(key)"
                                    ng-repeat="(key, value) in modelFiles">
                                    <p class="text-center">{{value}}</p>
                                </li>
                            </ul>
                        </li>

                        <li role="presentation">
                            <button class="btn btn-primary" ng-click="getFileList()">get files</button>
                        </li>

                        <!--settings-->
                        <li role="presentation">
                            <button class="btn btn-default" ng-click="importSettings()">Upload Settings</button>
                        </li>
                        <li role="presentation">
                            <button class="btn btn-primary" ng-click="slice(modelFileId)">
                                Slice...
                            </button>
                        </li>
                    </ul>

                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <octoprint></octoprint>
        </div>

    </div>

    <div class="row" ng-controller="SettingsController">

        <!--SETTINGS PANEL-->
        <div class="col-lg-6">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4>Printer Settings</h4>
                </div>
                <div class="panel-body">

                    <uib-tabset>
                        <uib-tab heading="basic">
                            <form>
                                <!--<curasettings ng-repeat="basic in basicSettings" content="model/profile/json/basic.json"></curasettings>-->
                                <curasettings src="model/profile/json/basic.json"></curasettings>
                            </form>
                        </uib-tab>

                        <uib-tab heading="advanced">
                            <form>
                                <curasettings src="model/profile/json/advanced.json"></curasettings>
                            </form>
                        </uib-tab>

                        <uib-tab heading="fine-tune">
                            <form>
                                <curasettings src="model/profile/json/fine-tune.json"></curasettings>
                            </form>
                        </uib-tab>

                        <uib-tab heading="machine">
                            <form>
                                <curasettings src="model/profile/json/machine.json"></curasettings>
                            </form>
                        </uib-tab>

                        <!--<uib-tab heading="start/end gcode">-->
                        <!--<form>-->
                        <!--<curasettings ng-repeat="setting in settings2" content="setting"></curasettings>-->
                        <!--</form>-->
                        <!--</uib-tab>-->
                    </uib-tabset>


                </div>
            </div>

        </div>
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4>Gcode Output Window</h4>
                    <a ng-href="{{gcodeUrl}}" ng-click="downloadGcode(gcode.gcode)">download gcode</a>
                </div>
                <div class="panel-body">
                    <textarea cols="30" rows="100" ng-model="gcode.gcode" class="form-control"></textarea>
                </div>
            </div>
        </div>
    </div>

</div>

</body>
</html>